<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kartu Cinta untuk Pacar</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b81;--muted:#98a0b3}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#e6eef8;background:radial-gradient(1000px 600px at 10% 10%, #0b1220 0%, rgba(11,18,32,0) 30%), radial-gradient(800px 400px at 90% 90%, #071126 0%, rgba(7,17,38,0) 30%), var(--bg);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:36px;box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
    header{display:flex;align-items:center;gap:16px}
    .heart{width:62px;height:62px;flex:0 0 62px}
    h1{font-size:20px;margin:0}
    p.lead{margin:6px 0 0;color:var(--muted)}

    .row{display:flex;gap:18px;margin-top:22px}
    .left{flex:1;display:flex;flex-direction:column;gap:12px}
    .right{width:320px;flex-shrink:0}

    .message{background:linear-gradient(180deg, rgba(255,107,129,0.06), rgba(255,107,129,0.02));padding:22px;border-radius:12px;min-height:180px;display:flex;align-items:center;justify-content:center;text-align:center;font-size:18px}
    .message .text{opacity:0;transform:translateY(8px);transition:all .6s cubic-bezier(.2,.9,.3,1)}
    .message.revealed .text{opacity:1;transform:none}

    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    input[type="text"]{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;outline:none;width:180px}
    button{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(255,107,129,0.12)}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);box-shadow:none}

    .info{font-size:13px;color:var(--muted);margin-top:12px}

    /* animated floating hearts */
    .floaters{position:absolute;inset:0;pointer-events:none}
    .floater{position:absolute;width:28px;height:28px;opacity:0;transform:translateY(20px) scale(.3);animation:floatUp 6s linear infinite}
    @keyframes floatUp{0%{opacity:0;transform:translateY(40px) scale(.3)}10%{opacity:1}100%{transform:translateY(-420px) scale(1);opacity:0}}

    /* confetti canvas fills */
    canvas.confetti{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}

    footer{margin-top:18px;display:flex;justify-content:space-between;align-items:center}
    small{color:var(--muted)}

    @media (max-width:740px){.row{flex-direction:column}.right{width:100%}}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="floaters" id="floaters"></div>
    <canvas class="confetti" id="confettiCanvas"></canvas>

    <header>
      <svg class="heart" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 20s-6.716-4.533-9.207-7.019C.993 9.718 3.18 5 7 5c2.084 0 3.5 1.5 5 3.002C13.5 6.5 14.916 5 17 5c3.82 0 6.007 4.718 4.207 7.981C18.716 15.467 12 20 12 20z" fill="url(#g)"/>
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0" stop-color="#ff8aa2"/>
            <stop offset="1" stop-color="#ff4776"/>
          </linearGradient>
        </defs>
      </svg>
      <div>
        <h1>Kartu Cinta untuk Pacar</h1>
        <p class="lead">Kirimkan kata-kata manis ‚Äî cepat, personal, dan penuh hati üíñ</p>
      </div>
    </header>

    <div class="row">
      <div class="left">
        <div class="message" id="messageBox">
          <div class="text" id="messageText">Tekan tombol "Buka Pesan" untuk melihat pesan rahasiamu.</div>
        </div>

        <div class="controls">
          <input id="toName" type="text" placeholder="Nama pacarmu" />
          <input id="fromName" type="text" placeholder="Nama kamu" />
          <button id="fillBtn" class="ghost">Isi contoh</button>
          <button id="revealBtn">Buka Pesan</button>
        </div>

        <div class="info">Tip: Setelah membuka pesan, tekan "Kirim" untuk memunculkan konfeti dan menyalin pesan ke clipboard.</div>

        <div style="display:flex;gap:8px;margin-top:12px">
          <button id="sendBtn">Kirim üíå</button>
          <button id="copyBtn" class="ghost">Salin ke clipboard</button>
        </div>
      </div>

      <aside class="right">
        <div style="background:linear-gradient(180deg, rgba(255,107,129,0.04), rgba(255,107,129,0.01));padding:16px;border-radius:12px;min-height:160px;display:flex;flex-direction:column;justify-content:center">
          <div style="font-size:14px;color:var(--muted)">Pratinjau pesan</div>
          <div style="margin-top:10px;font-size:16px;font-weight:600;color:white" id="preview">Halo, sayang...</div>
        </div>

        <div style="margin-top:12px;font-size:13px;color:var(--muted)">Pengaturan animasi</div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="heartsBtn" class="ghost">Hati terapung</button>
          <button id="confettiBtn" class="ghost">Konfeti</button>
        </div>
      </aside>
    </div>

    <footer>
      <small>Dibuat dengan ‚ù§Ô∏è ‚Äî sesuaikan pesannya dan kirimkan!</small>
      <small>Tip: Cocok untuk di-open di ponsel atau laptop</small>
    </footer>
  </div>

  <script>
    // Utilities
    const el = (id) => document.getElementById(id);
    const toName = el('toName'), fromName = el('fromName'), messageText = el('messageText'), messageBox = el('messageBox'), preview = el('preview');

    function buildMessage(to, from){
      if(!to) to = 'Sayang';
      if(!from) from = 'Aku';
      return `Halo ${to},\n\nSetiap hari aku bersyukur punya kamu. Kamu membuat hari-hariku lebih cerah dan lebih bahagia Terima Kasih telah hadir di hidupku. Terima kasih sudah jadi dirimu ‚Äî manis, cantik, kuat, dan selalu istimewa.\n\nDengan Cinta\n${from}`;
    }

    function updatePreview(){
      preview.textContent = buildMessage(toName.value, fromName.value).split('\n')[0] + '...';
    }

    toName.addEventListener('input', updatePreview);
    fromName.addEventListener('input', updatePreview);

    // Reveal behaviour
    el('revealBtn').addEventListener('click', ()=>{
      const msg = buildMessage(toName.value.trim(), fromName.value.trim());
      messageText.textContent = msg;
      messageBox.classList.add('revealed');
      updatePreview();
    });

    el('fillBtn').addEventListener('click', ()=>{
      toName.value = 'Dinda'; fromName.value = 'Rizal'; updatePreview();
    });

    el('copyBtn').addEventListener('click', async ()=>{
      const msg = buildMessage(toName.value.trim(), fromName.value.trim());
      try{
        await navigator.clipboard.writeText(msg);
        alert('Pesan disalin ke clipboard ‚Äî siap untuk ditempel!');
      }catch(e){
        alert('Gagal menyalin. Silakan salin manual.');
      }
    });

    // Simple confetti
    const confettiCanvas = el('confettiCanvas');
    const ctx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){
      confettiCanvas.width = confettiCanvas.clientWidth * devicePixelRatio;
      confettiCanvas.height = confettiCanvas.clientHeight * devicePixelRatio;
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function spawnConfetti(){
      const w = confettiCanvas.clientWidth, h = confettiCanvas.clientHeight;
      for(let i=0;i<120;i++){
        confettiPieces.push({x: Math.random()*w, y: -10-Math.random()*h/2, vx:(Math.random()-0.5)*2, vy:2+Math.random()*3, r:3+Math.random()*6, c:`hsl(${Math.random()*60+320},70%,60%)`, rot:Math.random()*360, vr:Math.random()*6-3});
      }
      if(!confettiLoopRunning) startConfettiLoop();
    }

    let confettiLoopRunning=false;
    function startConfettiLoop(){
      confettiLoopRunning=true;
      let last = performance.now();
      function loop(t){
        const dt = (t-last)/1000; last = t;
        ctx.clearRect(0,0,confettiCanvas.clientWidth, confettiCanvas.clientHeight);
        confettiPieces.forEach(p=>{
          p.x += p.vx*60*dt; p.y += p.vy*60*dt; p.rot += p.vr*dt*60;
          ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.rot*Math.PI/180);
          ctx.fillStyle = p.c; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*1.6);
          ctx.restore();
        });
        confettiPieces = confettiPieces.filter(p=>p.y < confettiCanvas.clientHeight + 20);
        if(confettiPieces.length) requestAnimationFrame(loop); else confettiLoopRunning=false;
      }
      requestAnimationFrame(loop);
    }

    el('sendBtn').addEventListener('click', ()=>{
      // reveal if hidden
      if(!messageBox.classList.contains('revealed')) el('revealBtn').click();
      spawnConfetti();
      // copy text as convenience
      const msg = buildMessage(toName.value.trim(), fromName.value.trim());
      navigator.clipboard && navigator.clipboard.writeText(msg).catch(()=>{});
      // small visual heart burst
      makeHeartsBurst(18);
    });

    // Floating hearts generator
    const floaters = el('floaters');
    function makeHeartEl(size, left){
      const d = document.createElement('div'); d.className='floater';
      d.style.width = d.style.height = size+'px';
      d.style.left = (left|| (Math.random()*100)) + '%';
      d.style.bottom = '-20px';
      d.style.opacity = Math.random()*.8 + .3;
      d.style.transform = `translateY(20px) scale(${Math.random()*.6 + .4})`;
      d.innerHTML = `<svg viewBox="0 0 24 24" width="${size}" height="${size}" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 20s-6.716-4.533-9.207-7.019C.993 9.718 3.18 5 7 5c2.084 0 3.5 1.5 5 3.002C13.5 6.5 14.916 5 17 5c3.82 0 6.007 4.718 4.207 7.981C18.716 15.467 12 20 12 20z" fill="rgba(255,107,129,0.95)"/></svg>`;
      floaters.appendChild(d);
      setTimeout(()=>d.remove(), 7000 + Math.random()*3000);
    }

    function makeHeartsBurst(count){
      for(let i=0;i<count;i++){
        setTimeout(()=>makeHeartEl(16+Math.random()*28, Math.random()*100), i*60);
      }
    }

    el('heartsBtn').addEventListener('click', ()=>{ makeHeartsBurst(10); });
    el('confettiBtn').addEventListener('click', ()=>{ spawnConfetti(); });

    // small heart burst when opening
    el('revealBtn').addEventListener('click', ()=>{ makeHeartsBurst(6); });

    // initial preview
    updatePreview();
  </script>
</body>
</html>
